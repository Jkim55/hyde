#!/usr/bin/env ruby
require './lib/fileio'
require 'kramdown'

arg0 = ARGV[0]
arg1 = ARGV[1]
arg2 = ARGV[2]
date = Time.now.strftime("%Y-%d-%m")

puts "You ran Hyde with these arguments: #{arg0} #{arg1}."

if arg0 == "new"
  Fileio.new.create_source_tree_structure(arg1)
elsif arg0 == "build"
  Fileio.new.build_output_file_structure(arg1)
elsif arg0 == "post"
  File.write("#{arg1}/source/posts/#{date + "-" + arg2}.md", "# #{arg2}\n\n Your content here, start writing Hemmingway!" )
  puts "Created a new post file at #{arg1}/source/posts/#{date}-#{arg2}.markdown"
else
  puts "Error! '#{arg1}' doesn't compute! Moron!"
end
